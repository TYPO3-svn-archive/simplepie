plugin.tx_simplepie {
	settings {
		feedItem {
			author {
				imageHeight = {$plugin.tx_simplepie.settings.feedItem.author.imageHeight}
				imageWidth = {$plugin.tx_simplepie.settings.feedItem.author.imageWidth}
				imageScaleMode = {$plugin.tx_simplepie.settings.feedItem.author.imageScaleMode}
			}
			enclosure {
				imageHeight = {$plugin.tx_simplepie.settings.feedItem.enclosure.imageHeight}
				imageWidth = {$plugin.tx_simplepie.settings.feedItem.enclosure.imageWidth}
				imageScaleMode = {$plugin.tx_simplepie.settings.feedItem.enclosure.imageScaleMode}
			}
		}
		controllers {
			Feed {
				feedMaxItems = {$plugin.tx_simplepie.settings.controllers.Feed.feedMaxItems}
				sorting = {$plugin.tx_simplepie.settings.controllers.Feed.sorting}
				cacheDuration = {$plugin.tx_simplepie.settings.controllers.Feed.cacheDuration}
			}
		}
		jQueryDisable = {$plugin.tx_simplepie.jQueryDisable}
	}
	persistence {
		storagePid = {$plugin.tx_simplepie.persistence.storagePid}
	}
	view {
		templateRootPath = {$plugin.tx_simplepie.view.templateRootPath}
	}
	lib {
		jqueryBib = TEXT
		jqueryBib.value (
<script src="http://www.google.com/jsapi"></script>
<script>
  // Load jQuery
  google.load("jquery", "1.3.2");
</script>
)
		jqueryBib.if {
			isTrue = {$plugin.tx_simplepie.loadJQuery}
		}
		jqueryNoConflict = TEXT
		jqueryNoConflict.value = <script type="text/javascript">jQuery.noConflict();</script>
		jqueryNoConflict.if {
			isTrue = {$plugin.tx_simplepie.jQueryNoConflict}
		}
	}
}
page.headerData.10000 = COA
page.headerData.10000 {
	1 < plugin.tx_simplepie.lib.jqueryBib
	2 < plugin.tx_simplepie.lib.jqueryNoConflict
#	3 = TEXT
#	3.value = <script type="text/javascript" src="typo3conf/ext/simplepie/Resources/Public/Javascript/simplepie_ajax.js"></script>
}

// AJAX Pagetype

#[globalVar = GP:type = 4711]
#plugin.tx_simplepie.settings.type = ajax
#[end]

simplepieAjaxReq = PAGE
simplepieAjaxReq {
  typeNum = 4711
  config {
    disableAllHeaderCode = 1
#   additionalHeaders = Content-type:application/xml
    xhtml_cleaning = 0
    admPanel = 0
  }
#  1 = TEXT
#  1.value = Testtext

#  10 = COA_INT
#  10 {
#    10 = USER_INT
#    10 {
#      userFunc = tx_extbase_dispatcher->dispatch
#      pluginName = Pi1
#      extensionName = simplepie
#      controller = Rss
#      action = index
#      settings {
#        type = ajax
#        feedSelection = 3,1
#      }
#      persistence =< plugin.tx_simplepie.persistence
#      view =< plugin.tx_simplepie.view
#    }
#  }
  
  10 = COA
  10 < styles.content.get
  10.stdWrap.prepend >
}